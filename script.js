var bt=Object.defineProperty;var _t=(r,t,e)=>t in r?bt(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var l=(r,t,e)=>(_t(r,typeof t!="symbol"?t+"":t,e),e),ht=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var i=(r,t,e)=>(ht(r,t,"read from private field"),e?e.call(r):t.get(r)),h=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},a=(r,t,e,s)=>(ht(r,t,"write to private field"),s?s.call(r,e):t.set(r,e),e);import{T as Mt,V as _,R as dt,a as vt,P as mt,M as gt,g as p,C as at,G as Tt}from"./index-12abe662.js";const Lt=`#define GLSLIFY 1
attribute vec2 uv;attribute vec2 position;uniform vec2 uResolution;uniform vec2 uTextureResolution;varying vec2 vUv;vec2 resizeUvCover(vec2 uv,vec2 size,vec2 resolution){vec2 ratio=vec2(min((resolution.x/resolution.y)/(size.x/size.y),1.0),min((resolution.y/resolution.x)/(size.y/size.x),1.0));return vec2(uv.x*ratio.x+(1.0-ratio.x)*0.5,uv.y*ratio.y+(1.0-ratio.y)*0.5);}void main(){vUv=resizeUvCover(uv,uTextureResolution,uResolution);gl_Position=vec4(position,0,1);}`,Rt=`precision highp float;
#define GLSLIFY 1
uniform float uTime;uniform sampler2D uTexture;uniform vec2 uMouse;uniform vec2 uMouseIntro;uniform float uIntro;uniform float uRadius;uniform float uStrength;uniform float uBulge;varying vec2 vUv;vec2 bulge(vec2 uv,vec2 center){uv-=center;float dist=length(uv)/uRadius;float distPow=pow(dist,4.);float strengthAmount=uStrength/(1.0+distPow);uv*=(1.-uBulge)+uBulge*strengthAmount;uv+=center;return uv;}void main(){vec2 mixMouse=mix(uMouseIntro,uMouse,uIntro);vec2 bulgeUV=bulge(vUv,mixMouse);vec4 tex=texture2D(uTexture,bulgeUV);gl_FragColor.rgb=tex.rgb;gl_FragColor.a=1.0;}`;class Et{constructor(){l(this,"load",(t,e)=>new Promise(s=>{const o=[];for(let n=0;n<t.length;n++){const{name:c,texture:m}=t[n];m&&!this.assets[c]&&o.push(this.loadTexture(m,c,e))}Promise.all(o).then(()=>s())}));this.assets={}}get(t){return this.assets[t]}loadTexture(t,e,s){return this.assets[e]||(this.assets[e]={}),new Promise(o=>{const n=new Image,c=new Mt(s);n.onload=()=>{c.image=n,this.assets[e]=c,o(n)},n.src=t})}}const ct=new Et;function D(){return"standalone"in navigator||window.matchMedia("(pointer: coarse)").matches?!0:window.matchMedia("(pointer: fine)").matches?!1:"ontouchstart"in window||navigator.maxTouchPoints>0}class Ct{constructor(){l(this,"entries",{});l(this,"observer");l(this,"onElementObserved",t=>{t.forEach(e=>{const s=e.target.dataset.intersectId;s&&this.entries[s]&&(e.isIntersecting?this.entries[s].methodIn(e):this.entries[s].methodOut(e))})});this.observer=new IntersectionObserver(this.onElementObserved,{threshold:0})}observe(t,e,s,o){this.entries[t]={el:e,methodIn:s,methodOut:o},this.observer.observe(e)}unobserve(t,e){this.observer.unobserve(e),delete this.entries[t]}}const Wt=new Ct;var u,E,F,d,M,T,C,k,B,W,H,P,N;class Ht{constructor({el:t,src:e,index:s,guiObj:o}){h(this,u,void 0);h(this,E,void 0);h(this,F,void 0);h(this,d,void 0);h(this,M,new _(0,0));h(this,T,new _(0,0));h(this,C,void 0);h(this,k,!0);h(this,B,void 0);h(this,W,void 0);h(this,H,void 0);h(this,P,void 0);h(this,N,void 0);l(this,"show",()=>{var e;let t=0;(e=this.tlHide)==null||e.kill(),this.tlShow=p.timeline(),p.delayedCall(t,()=>{i(this,u).parentNode.parentNode.classList.add("is-visible")}),this.tlShow.fromTo(i(this,d).uniforms.uBulge,{value:1},{value:0,duration:1.8,ease:"power3.out",delay:t}),this.tlShow.to(i(this,d).uniforms.uIntro,{value:1,duration:5,delay:t},0),a(this,N,!0)});l(this,"hide",()=>{var e;let t=0;(e=this.tlShow)==null||e.kill(),this.tlHide=p.timeline(),p.delayedCall(t,()=>{i(this,u).parentNode.parentNode.classList.remove("is-visible")}),this.tlHide.to(i(this,d).uniforms.uBulge,{value:1,duration:1.8,ease:"power3.out",delay:t}),this.tlHide.to(i(this,d).uniforms.uIntro,{value:0,duration:1,delay:t},0),a(this,N,!1)});l(this,"render",t=>{i(this,d)&&(i(this,T).x=p.utils.interpolate(i(this,T).x,i(this,M).x,.1),i(this,T).y=p.utils.interpolate(i(this,T).y,i(this,M).y,.1),i(this,d).uniforms.uMouse.value=i(this,T),i(this,E).render({scene:i(this,F)}))});l(this,"mouseMove",t=>{if(!i(this,k)||!i(this,d)||!i(this,N))return;a(this,C,i(this,u).getBoundingClientRect());let e=i(this,H)?t.touches[0].pageX:t.clientX,s=i(this,H)?t.touches[0].pageY:t.clientY;const o=(e-i(this,C).left)/i(this,u).offsetWidth,n=1-(s-i(this,C).top)/i(this,u).offsetHeight;i(this,M).x=p.utils.clamp(0,1,o),i(this,M).y=p.utils.clamp(0,1,n)});l(this,"handleMouseEnter",()=>{var t,e;i(this,k)&&((t=this.tlHide)==null||t.kill(),(e=this.tlShow)==null||e.kill(),this.tlForceIntro=new p.timeline,this.tlForceIntro.to(i(this,d).uniforms.uIntro,{value:1,duration:5,ease:"expo.out"}),p.to(i(this,d).uniforms.uBulge,{value:1,duration:1,ease:"expo.out"}))});l(this,"handleMouseLeave",()=>{var t;i(this,k)&&((t=this.tlForceIntro)==null||t.kill(),this.tlLeave=new p.timeline,this.tlLeave.to(i(this,d).uniforms.uBulge,{value:0,duration:1,ease:"expo.out"}))});l(this,"resize",()=>{const t=i(this,u).parentNode.offsetWidth,e=i(this,u).parentNode.offsetHeight;i(this,E).setSize(t,e),a(this,C,i(this,u).getBoundingClientRect()),i(this,d)&&(i(this,d).uniforms.uResolution.value=new _(t,e)),a(this,H,D())});a(this,u,t),a(this,B,e),a(this,W,s),a(this,P,o),this.setScene(),i(this,u).dataset.intersectId=s,a(this,H,D()),console.log("demo 1")}get type(){return"card"}get program(){return i(this,d)}async setScene(){a(this,E,new dt({dpr:Math.min(window.devicePixelRatio,2),canvas:i(this,u),width:i(this,u).offsetWidth,height:i(this,u).offsetHeight}));const{gl:t}=i(this,E);await ct.load([{name:`image_${i(this,W)}`,texture:`./img/${i(this,B)}`}],t),t.clearColor(1,1,1,1),this.resize();const e=new vt(t),s=ct.get(`image_${i(this,W)}`);a(this,d,new mt(t,{vertex:Lt,fragment:Rt,uniforms:{uTime:{value:0},uTexture:{value:s},uTextureResolution:{value:new _(s.image.width,s.image.height)},uResolution:{value:new _(t.canvas.offsetWidth,t.canvas.offsetHeight)},uMouse:{value:i(this,M)},uMouseIntro:{value:new _(.5,0)},uIntro:{value:0},uBulge:{value:0},uRadius:{value:i(this,P).radius},uStrength:{value:i(this,P).strength}}})),a(this,F,new gt(t,{geometry:e,program:i(this,d)})),this.events(),Wt.observe(i(this,W),i(this,u),this.show,this.hide)}events(){i(this,u).addEventListener("mouseenter",this.handleMouseEnter,!1),i(this,u).addEventListener("mouseleave",this.handleMouseLeave,!1)}}u=new WeakMap,E=new WeakMap,F=new WeakMap,d=new WeakMap,M=new WeakMap,T=new WeakMap,C=new WeakMap,k=new WeakMap,B=new WeakMap,W=new WeakMap,H=new WeakMap,P=new WeakMap,N=new WeakMap;const It=`#define GLSLIFY 1
attribute vec2 uv;attribute vec2 position;uniform vec2 uResolution;varying vec2 vUv;void main(){vUv=uv;gl_Position=vec4(position,0,1);}`,kt=`precision highp float;
#define GLSLIFY 1
uniform vec3 uColor1;uniform vec3 uColor2;uniform float uTime;uniform float uScroll;varying vec2 vUv;vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec2 fade(vec2 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec2 P){vec4 Pi=floor(P.xyxy)+vec4(0.0,0.0,1.0,1.0);vec4 Pf=fract(P.xyxy)-vec4(0.0,0.0,1.0,1.0);Pi=mod289(Pi);vec4 ix=Pi.xzxz;vec4 iy=Pi.yyww;vec4 fx=Pf.xzxz;vec4 fy=Pf.yyww;vec4 i=permute(permute(ix)+iy);vec4 gx=fract(i*(1.0/41.0))*2.0-1.0;vec4 gy=abs(gx)-0.5;vec4 tx=floor(gx+0.5);gx=gx-tx;vec2 g00=vec2(gx.x,gy.x);vec2 g10=vec2(gx.y,gy.y);vec2 g01=vec2(gx.z,gy.z);vec2 g11=vec2(gx.w,gy.w);vec4 norm=taylorInvSqrt(vec4(dot(g00,g00),dot(g01,g01),dot(g10,g10),dot(g11,g11)));g00*=norm.x;g01*=norm.y;g10*=norm.z;g11*=norm.w;float n00=dot(g00,vec2(fx.x,fy.x));float n10=dot(g10,vec2(fx.y,fy.y));float n01=dot(g01,vec2(fx.z,fy.z));float n11=dot(g11,vec2(fx.w,fy.w));vec2 fade_xy=fade(Pf.xy);vec2 n_x=mix(vec2(n00,n01),vec2(n10,n11),fade_xy.x);float n_xy=mix(n_x.x,n_x.y,fade_xy.y);return 2.3*n_xy;}void main(){float noise=cnoise(vUv*1.+uScroll+sin(uTime/10.));vec3 color=mix(uColor1,uColor2,noise);gl_FragColor.rgb=color;gl_FragColor.a=1.0;}`;var A,I,X,f,j,et,it;class Pt{constructor({el:t}){h(this,A,void 0);h(this,I,void 0);h(this,X,void 0);h(this,f,void 0);h(this,j,void 0);h(this,et,void 0);h(this,it,void 0);l(this,"render",t=>{i(this,f)&&(i(this,f).uniforms.uTime.value=t,i(this,I).render({scene:i(this,X)}))});l(this,"scroll",t=>{i(this,f).uniforms.uScroll.value=t*2});l(this,"resize",()=>{const t=window.innerWidth,e=window.innerHeight;i(this,I).setSize(t,e),i(this,f)&&(i(this,f).uniforms.uResolution.value=new _(t,e)),a(this,j,D())});a(this,A,t),this.setScene(),a(this,j,D())}get type(){return"background"}get program(){return i(this,f)}async setScene(){a(this,I,new dt({dpr:Math.min(window.devicePixelRatio,2),canvas:i(this,A),width:window.innerWidth,height:window.innerHeight}));const{gl:t}=i(this,I);t.clearColor(1,1,1,1),this.resize();const e=new vt(t);a(this,f,new mt(t,{vertex:It,fragment:kt,uniforms:{uTime:{value:0},uScroll:{value:0},uColor1:{value:new at("#fdfaee")},uColor2:{value:new at("#d6abb4")},uResolution:{value:new _(t.canvas.offsetWidth,t.canvas.offsetHeight)}}})),a(this,X,new gt(t,{geometry:e,program:i(this,f)}))}}A=new WeakMap,I=new WeakMap,X=new WeakMap,f=new WeakMap,j=new WeakMap,et=new WeakMap,it=new WeakMap;function pt(r,t,e){return Math.max(r,Math.min(t,e))}class Nt{advance(t){var m;if(!this.isRunning)return;let e=!1;if(this.lerp)this.value=(s=this.value,o=this.to,n=60*this.lerp,c=t,function(v,w,x){return(1-x)*v+x*w}(s,o,1-Math.exp(-n*c))),Math.round(this.value)===this.to&&(this.value=this.to,e=!0);else{this.currentTime+=t;const v=pt(0,this.currentTime/this.duration,1);e=v>=1;const w=e?1:this.easing(v);this.value=this.from+(this.to-this.from)*w}var s,o,n,c;(m=this.onUpdate)==null||m.call(this,this.value,e),e&&this.stop()}stop(){this.isRunning=!1}fromTo(t,e,{lerp:s=.1,duration:o=1,easing:n=v=>v,onStart:c,onUpdate:m}){this.from=this.value=t,this.to=e,this.lerp=s,this.duration=o,this.easing=n,this.currentTime=0,this.isRunning=!0,c==null||c(),this.onUpdate=m}}class Ot{constructor({wrapper:t,content:e,autoResize:s=!0,debounce:o=250}={}){l(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});l(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});l(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=t,this.content=e,s&&(this.debouncedResize=function(n,c){let m;return function(){let v=arguments,w=this;clearTimeout(m),m=setTimeout(function(){n.apply(w,v)},c)}}(this.resize,o),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var t,e;(t=this.wrapperResizeObserver)==null||t.disconnect(),(e=this.contentResizeObserver)==null||e.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class ft{constructor(){this.events={}}emit(t,...e){let s=this.events[t]||[];for(let o=0,n=s.length;o<n;o++)s[o](...e)}on(t,e){var s;return(s=this.events[t])!=null&&s.push(e)||(this.events[t]=[e]),()=>{var o;this.events[t]=(o=this.events[t])==null?void 0:o.filter(n=>e!==n)}}off(t,e){var s;this.events[t]=(s=this.events[t])==null?void 0:s.filter(o=>e!==o)}destroy(){this.events={}}}const ut=100/6;class Ut{constructor(t,{wheelMultiplier:e=1,touchMultiplier:s=1}){l(this,"onTouchStart",t=>{const{clientX:e,clientY:s}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=e,this.touchStart.y=s,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})});l(this,"onTouchMove",t=>{const{clientX:e,clientY:s}=t.targetTouches?t.targetTouches[0]:t,o=-(e-this.touchStart.x)*this.touchMultiplier,n=-(s-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=e,this.touchStart.y=s,this.lastDelta={x:o,y:n},this.emitter.emit("scroll",{deltaX:o,deltaY:n,event:t})});l(this,"onTouchEnd",t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})});l(this,"onWheel",t=>{let{deltaX:e,deltaY:s,deltaMode:o}=t;e*=o===1?ut:o===2?this.windowWidth:1,s*=o===1?ut:o===2?this.windowHeight:1,e*=this.wheelMultiplier,s*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:s,event:t})});l(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=t,this.wheelMultiplier=e,this.touchMultiplier=s,this.touchStart={x:null,y:null},this.emitter=new ft,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(t,e){return this.emitter.on(t,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class Yt{constructor({wrapper:t=window,content:e=document.documentElement,wheelEventsTarget:s=t,eventsTarget:o=s,smoothWheel:n=!0,syncTouch:c=!1,syncTouchLerp:m=.075,touchInertiaMultiplier:v=35,duration:w,easing:x=y=>Math.min(1,1.001-Math.pow(2,-10*y)),lerp:S=!w&&.1,infinite:R=!1,orientation:V="vertical",gestureOrientation:wt="vertical",touchMultiplier:st=1,wheelMultiplier:ot=1,autoResize:nt=!0,__experimental__naiveDimensions:St=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:y,deltaY:O,event:z})=>{if(z.ctrlKey)return;const U=z.type.includes("touch"),rt=z.type.includes("wheel");if(this.options.syncTouch&&U&&z.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const yt=y===0&&O===0,xt=this.options.gestureOrientation==="vertical"&&O===0||this.options.gestureOrientation==="horizontal"&&y===0;if(yt||xt)return;let $=z.composedPath();if($=$.slice(0,$.indexOf(this.rootElement)),$.find(b=>{var K,J,Q,Z,tt;return((K=b.hasAttribute)===null||K===void 0?void 0:K.call(b,"data-lenis-prevent"))||U&&((J=b.hasAttribute)===null||J===void 0?void 0:J.call(b,"data-lenis-prevent-touch"))||rt&&((Q=b.hasAttribute)===null||Q===void 0?void 0:Q.call(b,"data-lenis-prevent-wheel"))||((Z=b.classList)===null||Z===void 0?void 0:Z.contains("lenis"))&&!(!((tt=b.classList)===null||tt===void 0)&&tt.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void z.preventDefault();if(this.isSmooth=this.options.syncTouch&&U||this.options.smoothWheel&&rt,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();z.preventDefault();let Y=O;this.options.gestureOrientation==="both"?Y=Math.abs(O)>Math.abs(y)?O:y:this.options.gestureOrientation==="horizontal"&&(Y=y);const zt=U&&this.options.syncTouch,lt=U&&z.type==="touchend"&&Math.abs(Y)>5;lt&&(Y=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+Y,Object.assign({programmatic:!1},zt?{lerp:lt?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const y=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-y),this.emit()}},window.lenisVersion="1.0.42",t!==document.documentElement&&t!==document.body||(t=window),this.options={wrapper:t,content:e,wheelEventsTarget:s,eventsTarget:o,smoothWheel:n,syncTouch:c,syncTouchLerp:m,touchInertiaMultiplier:v,duration:w,easing:x,lerp:S,infinite:R,gestureOrientation:wt,orientation:V,touchMultiplier:st,wheelMultiplier:ot,autoResize:nt,__experimental__naiveDimensions:St},this.animate=new Nt,this.emitter=new ft,this.dimensions=new Ot({wrapper:t,content:e,autoResize:nt}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=c||n,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new Ut(o,{touchMultiplier:st,wheelMultiplier:ot}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(t,e){return this.emitter.on(t,e)}off(t,e){return this.emitter.off(t,e)}setScroll(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(t){const e=t-(this.time||t);this.time=t,this.animate.advance(.001*e)}scrollTo(t,{offset:e=0,immediate:s=!1,lock:o=!1,duration:n=this.options.duration,easing:c=this.options.easing,lerp:m=!n&&this.options.lerp,onComplete:v,force:w=!1,programmatic:x=!0}={}){if(!this.isStopped&&!this.isLocked||w){if(["top","left","start"].includes(t))t=0;else if(["bottom","right","end"].includes(t))t=this.limit;else{let S;if(typeof t=="string"?S=document.querySelector(t):t!=null&&t.nodeType&&(S=t),S){if(this.options.wrapper!==window){const V=this.options.wrapper.getBoundingClientRect();e-=this.isHorizontal?V.left:V.top}const R=S.getBoundingClientRect();t=(this.isHorizontal?R.left:R.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=e,t=Math.round(t),this.options.infinite?x&&(this.targetScroll=this.animatedScroll=this.scroll):t=pt(0,t,this.limit),s)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),void(v==null||v(this));if(!x){if(t===this.targetScroll)return;this.targetScroll=t}this.animate.fromTo(this.animatedScroll,t,{duration:n,easing:c,lerp:m,onStart:()=>{o&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(S,R)=>{this.isScrolling=!0,this.velocity=S-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=S,this.setScroll(this.scroll),x&&(this.targetScroll=S),R||this.emit(),R&&(this.reset(),this.emit(),v==null||v(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(t=this.animatedScroll,e=this.limit,(t%e+e)%e):this.animatedScroll;var t,e}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(t){this.__isSmooth!==t&&(this.__isSmooth=t,this.toggleClassName("lenis-smooth",t))}get isScrolling(){return this.__isScrolling}set isScrolling(t){this.__isScrolling!==t&&(this.__isScrolling=t,this.toggleClassName("lenis-scrolling",t))}get isStopped(){return this.__isStopped}set isStopped(t){this.__isStopped!==t&&(this.__isStopped=t,this.toggleClassName("lenis-stopped",t))}get isLocked(){return this.__isLocked}set isLocked(t){this.__isLocked!==t&&(this.__isLocked=t,this.toggleClassName("lenis-locked",t))}get className(){let t="lenis";return this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isSmooth&&(t+=" lenis-smooth"),t}toggleClassName(t,e){this.rootElement.classList.toggle(t,e),this.emitter.emit("className change",this)}}const Dt=["image-1.jpg","image-2.jpg","image-3.jpg","image-4.jpg","image-5.jpg","image-6.jpg"];var g,q,L,G;class Ft{constructor(){h(this,g,void 0);h(this,q,void 0);h(this,L,{bulge:0,strength:1.1,radius:.95});h(this,G,void 0);l(this,"handleRAF",t=>{i(this,q).raf(t*1e3);for(let e=0;e<i(this,g).length;e++){const s=i(this,g)[e];typeof s.render=="function"&&s.render(t)}});l(this,"handleResize",()=>{for(let t=0;t<i(this,g).length;t++){const e=i(this,g)[t];typeof e.resize=="function"&&e.resize()}});l(this,"handleMouseMove",t=>{for(let e=0;e<i(this,g).length;e++){const s=i(this,g)[e];typeof s.mouseMove=="function"&&s.mouseMove(t)}});l(this,"handleScroll",t=>{this.scrollEl.classList.remove("is-visible");for(let e=0;e<i(this,g).length;e++){const s=i(this,g)[e];typeof s.scroll=="function"&&s.scroll(t.progress)}});a(this,g,this.createComponents()),a(this,q,this.createLenis()),a(this,G,this.createDebugger()),this.events()}createComponents(){const t=[];document.querySelectorAll(".themes_item").forEach((o,n)=>{const c=o.querySelector("canvas");t.push(new Ht({el:c,src:Dt[n],index:n,guiObj:i(this,L)}))});const s=document.querySelector(".background__canvas");return t.push(new Pt({el:s})),t}createLenis(){const t=new Yt({infinite:!1,lerp:.08});return this.scrollEl=document.querySelector(".scroll"),t.on("scroll",this.handleScroll),t}events(){p.ticker.add(this.handleRAF),window.addEventListener("resize",this.handleResize,!1),D()?window.addEventListener("touchmove",this.handleMouseMove,!1):window.addEventListener("mousemove",this.handleMouseMove,!1)}createDebugger(){const t=new Tt,e=()=>{for(let s=0;s<i(this,g).length;s++){const o=i(this,g)[s];o.type==="card"&&(o.program.uniforms.uRadius.value=i(this,L).radius,o.program.uniforms.uStrength.value=i(this,L).strength)}};return t.add(i(this,L),"radius",0,1).onChange(e),t.add(i(this,L),"strength",0,3).onChange(e),t}}g=new WeakMap,q=new WeakMap,L=new WeakMap,G=new WeakMap;new Ft;
