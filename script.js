var D=Object.defineProperty;var V=(o,e,i)=>e in o?D(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i;var u=(o,e,i)=>(V(o,typeof e!="symbol"?e+"":e,i),i),O=(o,e,i)=>{if(!e.has(o))throw TypeError("Cannot "+i)};var t=(o,e,i)=>(O(o,e,"read from private field"),i?i.call(o):e.get(o)),n=(o,e,i)=>{if(e.has(o))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(o):e.set(o,i)},r=(o,e,i,s)=>(O(o,e,"write to private field"),s?s.call(o,i):e.set(o,i),i);import{T as j,V as f,R as Y,a as $,P as q,M as G,g as v,C as W,G as X}from"./index-12abe662.js";const J=`#define GLSLIFY 1
attribute vec2 uv;attribute vec2 position;uniform vec2 uResolution;uniform vec2 uTextureResolution;varying vec2 vUv;vec2 resizeUvCover(vec2 uv,vec2 size,vec2 resolution){vec2 ratio=vec2(min((resolution.x/resolution.y)/(size.x/size.y),1.0),min((resolution.y/resolution.x)/(size.y/size.x),1.0));return vec2(uv.x*ratio.x+(1.0-ratio.x)*0.5,uv.y*ratio.y+(1.0-ratio.y)*0.5);}void main(){vUv=resizeUvCover(uv,uTextureResolution,uResolution);gl_Position=vec4(position,0,1);}`,K=`precision highp float;
#define GLSLIFY 1
uniform float uTime;uniform sampler2D uTexture;uniform vec2 uMouse;uniform vec2 uMouseIntro;uniform float uIntro;uniform float uRadius;uniform float uStrength;uniform float uBulge;varying vec2 vUv;vec2 bulge(vec2 uv,vec2 center){uv-=center;float dist=length(uv)/uRadius;float distPow=pow(dist,4.);float strengthAmount=uStrength/(1.0+distPow);uv*=(1.-uBulge)+uBulge*strengthAmount;uv+=center;return uv;}void main(){vec2 mixMouse=mix(uMouseIntro,uMouse,uIntro);vec2 bulgeUV=bulge(vUv,mixMouse);vec4 tex=texture2D(uTexture,bulgeUV);gl_FragColor.rgb=tex.rgb;gl_FragColor.a=1.0;}`;class Q{constructor(){u(this,"load",(e,i)=>new Promise(s=>{const l=[];for(let c=0;c<e.length;c++){const{name:C,texture:H}=e[c];H&&!this.assets[C]&&l.push(this.loadTexture(H,C,i))}Promise.all(l).then(()=>s())}));this.assets={}}get(e){return this.assets[e]}loadTexture(e,i,s){return this.assets[i]||(this.assets[i]={}),new Promise(l=>{const c=new Image,C=new j(s);c.onload=()=>{C.image=c,this.assets[i]=C,l(c)},c.src=e})}}const A=new Q;function R(){return"standalone"in navigator||window.matchMedia("(pointer: coarse)").matches?!0:window.matchMedia("(pointer: fine)").matches?!1:"ontouchstart"in window||navigator.maxTouchPoints>0}class Z{constructor(){u(this,"entries",{});u(this,"observer");u(this,"onElementObserved",e=>{e.forEach(i=>{const s=i.target.dataset.intersectId;s&&this.entries[s]&&(i.isIntersecting?this.entries[s].methodIn(i):this.entries[s].methodOut(i))})});this.observer=new IntersectionObserver(this.onElementObserved,{threshold:0})}observe(e,i,s,l){this.entries[e]={el:i,methodIn:s,methodOut:l},this.observer.observe(i)}unobserve(e,i){this.observer.unobserve(i),delete this.entries[e]}}const ee=new Z;var a,y,T,h,m,x,p,z,L,b,S,I,P;class te{constructor({el:e,src:i,index:s,guiObj:l}){n(this,a,void 0);n(this,y,void 0);n(this,T,void 0);n(this,h,void 0);n(this,m,new f(0,0));n(this,x,new f(0,0));n(this,p,void 0);n(this,z,!0);n(this,L,void 0);n(this,b,void 0);n(this,S,void 0);n(this,I,void 0);n(this,P,void 0);u(this,"show",()=>{var i;let e=0;(i=this.tlHide)==null||i.kill(),this.tlShow=v.timeline(),v.delayedCall(e,()=>{t(this,a).parentNode.parentNode.classList.add("is-visible")}),this.tlShow.fromTo(t(this,h).uniforms.uBulge,{value:1},{value:0,duration:1.8,ease:"power3.out",delay:e}),this.tlShow.to(t(this,h).uniforms.uIntro,{value:1,duration:5,delay:e},0),r(this,P,!0)});u(this,"hide",()=>{var i;let e=0;(i=this.tlShow)==null||i.kill(),this.tlHide=v.timeline(),v.delayedCall(e,()=>{t(this,a).parentNode.parentNode.classList.remove("is-visible")}),this.tlHide.to(t(this,h).uniforms.uBulge,{value:1,duration:1.8,ease:"power3.out",delay:e}),this.tlHide.to(t(this,h).uniforms.uIntro,{value:0,duration:1,delay:e},0),r(this,P,!1)});u(this,"render",e=>{t(this,h)&&(t(this,x).x=v.utils.interpolate(t(this,x).x,t(this,m).x,.1),t(this,x).y=v.utils.interpolate(t(this,x).y,t(this,m).y,.1),t(this,h).uniforms.uMouse.value=t(this,x),t(this,y).render({scene:t(this,T)}))});u(this,"mouseMove",e=>{if(!t(this,z)||!t(this,h)||!t(this,P))return;r(this,p,t(this,a).getBoundingClientRect());let i=t(this,S)?e.touches[0].pageX:e.clientX,s=t(this,S)?e.touches[0].pageY:e.clientY;const l=(i-t(this,p).left)/t(this,a).offsetWidth,c=1-(s-t(this,p).top)/t(this,a).offsetHeight;t(this,m).x=v.utils.clamp(0,1,l),t(this,m).y=v.utils.clamp(0,1,c)});u(this,"handleMouseEnter",()=>{var e,i;t(this,z)&&((e=this.tlHide)==null||e.kill(),(i=this.tlShow)==null||i.kill(),this.tlForceIntro=new v.timeline,this.tlForceIntro.to(t(this,h).uniforms.uIntro,{value:1,duration:5,ease:"expo.out"}),v.to(t(this,h).uniforms.uBulge,{value:1,duration:1,ease:"expo.out"}))});u(this,"handleMouseLeave",()=>{var e;t(this,z)&&((e=this.tlForceIntro)==null||e.kill(),this.tlLeave=new v.timeline,this.tlLeave.to(t(this,h).uniforms.uBulge,{value:0,duration:1,ease:"expo.out"}))});u(this,"resize",()=>{const e=t(this,a).parentNode.offsetWidth,i=t(this,a).parentNode.offsetHeight;t(this,y).setSize(e,i),r(this,p,t(this,a).getBoundingClientRect()),t(this,h)&&(t(this,h).uniforms.uResolution.value=new f(e,i)),r(this,S,R())});r(this,a,e),r(this,L,i),r(this,b,s),r(this,I,l),this.setScene(),t(this,a).dataset.intersectId=s,r(this,S,R()),console.log("demo 1")}get type(){return"card"}get program(){return t(this,h)}async setScene(){r(this,y,new Y({dpr:Math.min(window.devicePixelRatio,2),canvas:t(this,a),width:t(this,a).offsetWidth,height:t(this,a).offsetHeight}));const{gl:e}=t(this,y);await A.load([{name:`image_${t(this,b)}`,texture:`./img/${t(this,L)}`}],e),e.clearColor(1,1,1,1),this.resize();const i=new $(e),s=A.get(`image_${t(this,b)}`);r(this,h,new q(e,{vertex:J,fragment:K,uniforms:{uTime:{value:0},uTexture:{value:s},uTextureResolution:{value:new f(s.image.width,s.image.height)},uResolution:{value:new f(e.canvas.offsetWidth,e.canvas.offsetHeight)},uMouse:{value:t(this,m)},uMouseIntro:{value:new f(.5,0)},uIntro:{value:0},uBulge:{value:0},uRadius:{value:t(this,I).radius},uStrength:{value:t(this,I).strength}}})),r(this,T,new G(e,{geometry:i,program:t(this,h)})),this.events(),ee.observe(t(this,b),t(this,a),this.show,this.hide)}events(){t(this,a).addEventListener("mouseenter",this.handleMouseEnter,!1),t(this,a).addEventListener("mouseleave",this.handleMouseLeave,!1)}}a=new WeakMap,y=new WeakMap,T=new WeakMap,h=new WeakMap,m=new WeakMap,x=new WeakMap,p=new WeakMap,z=new WeakMap,L=new WeakMap,b=new WeakMap,S=new WeakMap,I=new WeakMap,P=new WeakMap;const ie=`#define GLSLIFY 1
attribute vec2 uv;attribute vec2 position;uniform vec2 uResolution;varying vec2 vUv;void main(){vUv=uv;gl_Position=vec4(position,0,1);}`,se=`precision highp float;
#define GLSLIFY 1
uniform vec3 uColor1;uniform vec3 uColor2;uniform float uTime;uniform float uScroll;varying vec2 vUv;vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec2 fade(vec2 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec2 P){vec4 Pi=floor(P.xyxy)+vec4(0.0,0.0,1.0,1.0);vec4 Pf=fract(P.xyxy)-vec4(0.0,0.0,1.0,1.0);Pi=mod289(Pi);vec4 ix=Pi.xzxz;vec4 iy=Pi.yyww;vec4 fx=Pf.xzxz;vec4 fy=Pf.yyww;vec4 i=permute(permute(ix)+iy);vec4 gx=fract(i*(1.0/41.0))*2.0-1.0;vec4 gy=abs(gx)-0.5;vec4 tx=floor(gx+0.5);gx=gx-tx;vec2 g00=vec2(gx.x,gy.x);vec2 g10=vec2(gx.y,gy.y);vec2 g01=vec2(gx.z,gy.z);vec2 g11=vec2(gx.w,gy.w);vec4 norm=taylorInvSqrt(vec4(dot(g00,g00),dot(g01,g01),dot(g10,g10),dot(g11,g11)));g00*=norm.x;g01*=norm.y;g10*=norm.z;g11*=norm.w;float n00=dot(g00,vec2(fx.x,fy.x));float n10=dot(g10,vec2(fx.y,fy.y));float n01=dot(g01,vec2(fx.z,fy.z));float n11=dot(g11,vec2(fx.w,fy.w));vec2 fade_xy=fade(Pf.xy);vec2 n_x=mix(vec2(n00,n01),vec2(n10,n11),fade_xy.x);float n_xy=mix(n_x.x,n_x.y,fade_xy.y);return 2.3*n_xy;}void main(){float noise=cnoise(vUv*1.+uScroll+sin(uTime/10.));vec3 color=mix(uColor1,uColor2,noise);gl_FragColor.rgb=color;gl_FragColor.a=1.0;}`;var _,M,F,g,U,E,k;class oe{constructor({el:e}){n(this,_,void 0);n(this,M,void 0);n(this,F,void 0);n(this,g,void 0);n(this,U,void 0);n(this,E,void 0);n(this,k,void 0);u(this,"render",e=>{t(this,g)&&(t(this,g).uniforms.uTime.value=e,t(this,M).render({scene:t(this,F)}))});u(this,"scroll",e=>{t(this,g).uniforms.uScroll.value=e*2});u(this,"resize",()=>{const e=window.innerWidth,i=window.innerHeight;t(this,M).setSize(e,i),t(this,g)&&(t(this,g).uniforms.uResolution.value=new f(e,i)),r(this,U,R())});r(this,_,e),this.setScene(),r(this,U,R())}get type(){return"background"}get program(){return t(this,g)}async setScene(){r(this,M,new Y({dpr:Math.min(window.devicePixelRatio,2),canvas:t(this,_),width:window.innerWidth,height:window.innerHeight}));const{gl:e}=t(this,M);e.clearColor(1,1,1,1),this.resize();const i=new $(e);r(this,g,new q(e,{vertex:ie,fragment:se,uniforms:{uTime:{value:0},uScroll:{value:0},uColor1:{value:new W("#fdfaee")},uColor2:{value:new W("#d6abb4")},uResolution:{value:new f(e.canvas.offsetWidth,e.canvas.offsetHeight)}}})),r(this,F,new G(e,{geometry:i,program:t(this,g)}))}}_=new WeakMap,M=new WeakMap,F=new WeakMap,g=new WeakMap,U=new WeakMap,E=new WeakMap,k=new WeakMap;var d,w,B;class ne{constructor(){n(this,d,void 0);n(this,w,{bulge:0,strength:1.1,radius:.95});n(this,B,void 0);u(this,"handleRAF",e=>{for(let i=0;i<t(this,d).length;i++){const s=t(this,d)[i];typeof s.render=="function"&&s.render(e)}});u(this,"handleResize",()=>{for(let e=0;e<t(this,d).length;e++){const i=t(this,d)[e];typeof i.resize=="function"&&i.resize()}});u(this,"handleMouseMove",e=>{for(let i=0;i<t(this,d).length;i++){const s=t(this,d)[i];typeof s.mouseMove=="function"&&s.mouseMove(e)}});u(this,"handleScroll",e=>{});r(this,d,this.createComponents()),r(this,B,this.createDebugger()),this.events()}createComponents(){const e=[];document.querySelectorAll(".card").forEach((l,c)=>{const H=l.querySelector(".card__canvas").getAttribute("data-src"),N=l.querySelector("canvas");e.push(new te({el:N,src:H,index:c,guiObj:t(this,w)}))});const s=document.querySelector(".background__canvas");return e.push(new oe({el:s})),e}events(){v.ticker.add(this.handleRAF),window.addEventListener("resize",this.handleResize,!1),R()?window.addEventListener("touchmove",this.handleMouseMove,!1):window.addEventListener("mousemove",this.handleMouseMove,!1)}createDebugger(){const e=new X,i=()=>{for(let s=0;s<t(this,d).length;s++){const l=t(this,d)[s];l.type==="card"&&(l.program.uniforms.uRadius.value=t(this,w).radius,l.program.uniforms.uStrength.value=t(this,w).strength)}};return e.add(t(this,w),"radius",0,1).onChange(i),e.add(t(this,w),"strength",0,3).onChange(i),e}}d=new WeakMap,w=new WeakMap,B=new WeakMap;new ne;
